# 代码执行指南

**Alpha 版本 0.7.0** | **阶段 4.1** | **最后更新: 2026-01-30**

---

## 概述

Alpha的代码执行功能使AI助手能够在现有工具不足时编写、验证和执行自定义代码。这个强大的功能允许Alpha通过生成Python、JavaScript或Bash脚本并在隔离的Docker容器中安全运行它们来解决复杂问题。

**主要优势:**
- 解决现有工具无法处理的任务
- 从自然语言描述生成自定义代码
- 验证代码的语法错误和安全问题
- 在具有资源限制的沙箱环境中执行代码
- 支持多种编程语言

---

## 什么是代码执行?

代码执行是Alpha自主编写和运行程序以完成任务的能力。当您要求Alpha执行无法由内置工具处理的复杂操作时,Alpha可以:

1. **生成代码** - 根据您的任务描述编写自定义程序
2. **验证代码** - 检查语法错误和安全漏洞
3. **请求批准** - 向您展示代码并请求运行许可
4. **安全执行** - 在具有严格限制的隔离Docker容器中运行代码
5. **返回结果** - 提供输出或错误消息

这使Alpha能够处理以下任务:
- 复杂的数据处理和分析
- 数学计算和算法
- 文件格式转换
- 自定义文本处理
- 系统操作
- API集成

---

## 何时使用

### 在以下情况使用代码执行:

✅ **复杂计算**
- 高级数学运算
- 统计分析
- 算法实现

✅ **数据处理**
- 解析复杂文件格式
- 转换数据结构
- 批处理操作

✅ **自定义逻辑**
- 业务规则实现
- 自定义验证逻辑
- 专门的算法

✅ **系统操作**
- 超出基本读/写的文件操作
- 目录操作
- 进程管理

✅ **集成任务**
- 具有自定义逻辑的API调用
- 数据格式转换
- 协议实现

### 当现有工具可用时不要使用:

❌ **简单文件操作** - 使用 `file` 工具
❌ **基本Shell命令** - 使用 `shell` 工具
❌ **网页搜索** - 使用 `search` 工具
❌ **HTTP请求** - 使用 `http` 工具
❌ **简单计算** - 使用 `calculator` 工具

**原则:** 为了更好的可靠性和安全性,始终优先使用现有工具而不是代码执行。

---

## 支持的语言

### Python 3.12+

**Docker镜像:** `python:3.12-slim`

**最适合:**
- 数据处理和分析
- 数学计算
- 文件操作
- API集成
- 通用脚本编写

**示例:**
```python
# 计算斐波那契数列
def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)

print([fibonacci(i) for i in range(10)])
```

### JavaScript (Node.js 20+)

**Docker镜像:** `node:20-slim`

**最适合:**
- JSON处理
- 字符串操作
- 异步操作
- Web相关任务

**示例:**
```javascript
// 解析和格式化JSON
const data = { name: "Alpha", version: "0.7.0" };
console.log(JSON.stringify(data, null, 2));
```

### Bash 5.2+

**Docker镜像:** `bash:5.2-alpine`

**最适合:**
- 系统操作
- 文件管理
- 使用Unix工具的文本处理
- Shell脚本自动化

**示例:**
```bash
#!/bin/bash
# 列出文件并计数
echo "当前目录中的文件:"
ls -l | wc -l
```

---

## 工作原理

代码执行过程遵循具有多个安全检查的安全管道:

```
┌─────────────────────────────────────────────────────────┐
│ 1. 代码生成                                              │
│    - LLM从您的任务描述生成代码                           │
│    - 优化清晰度和错误处理                                │
└─────────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────┐
│ 2. 语法验证                                              │
│    - 检查语法错误                                        │
│    - 验证代码结构                                        │
│    - 提供改进建议                                        │
└─────────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────┐
│ 3. 安全扫描                                              │
│    - 检测危险操作                                        │
│    - 评估风险级别(低/中/高)                             │
│    - 提供安全建议                                        │
└─────────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────┐
│ 4. 用户批准(可选)                                        │
│    - 显示带行号的生成代码                                │
│    - 显示安全分析                                        │
│    - 请求您的确认                                        │
└─────────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────┐
│ 5. 沙箱执行                                              │
│    - 创建隔离的Docker容器                                │
│    - 应用资源限制(CPU、内存、时间)                       │
│    - 禁用网络(除非明确启用)                              │
│    - 安全执行代码                                        │
└─────────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────┐
│ 6. 返回结果                                              │
│    - 捕获stdout和stderr                                  │
│    - 报告执行状态                                        │
│    - 如果失败则提供错误消息                              │
│    - 自动清理容器                                        │
└─────────────────────────────────────────────────────────┘
```

---

## 安全特性

Alpha的代码执行系统将安全性作为首要任务进行设计:

### 1. Docker容器隔离

**含义:**
代码在完全隔离的环境中运行,与您的系统分离。

**保护:**
- 无法访问您的文件(除非明确共享)
- 无法修改您的系统
- 无法干扰其他进程
- 执行后自动销毁

### 2. 资源限制

**CPU限制:** 一个CPU核心的50%
- 防止CPU耗尽
- 确保系统响应性

**内存限制:** 256 MB(可配置)
- 防止内存耗尽
- 防止内存泄漏

**时间限制:** 默认30秒(最多可配置5分钟)
- 防止无限循环
- 停止失控进程

**磁盘限制:** 100 MB
- 防止磁盘空间耗尽
- 限制临时文件使用

### 3. 网络隔离

**默认:** 网络访问**已禁用**

**原因:**
- 防止数据泄露
- 阻止未经授权的下载
- 停止恶意网络活动

**启用时**(需要明确许可):
- 仅出站连接
- 常用端口(80、443)
- 允许DNS解析
- 仍然沙箱化

### 4. 安全扫描

**检查:**
- 危险导入(`eval`、`exec`、`__import__`)
- 系统命令(`rm -rf`、`mkfs`、`fdisk`)
- 高风险文件操作
- 网络操作
- 进程生成

**风险级别:**
- **低:** 安全操作,没有危险模式
- **中:** 一些风险操作,需要批准
- **高:** 危险操作,阻止执行或需要明确批准

### 5. 只读文件系统

**保护:**
- 根文件系统是只读的
- 只有 `/tmp` 可写
- 防止系统修改
- 限制恶意活动

---

## 入门指南

### 前提条件

使用代码执行之前,请确保您拥有:

1. **已安装Docker**
   ```bash
   # 检查Docker安装
   docker --version
   # 应显示: Docker version 20.10.0 或更高版本

   # 测试Docker是否正在运行
   docker ps
   # 应显示运行中的容器或空列表(而不是错误)
   ```

   **安装:**
   - **Ubuntu/Debian:** `sudo apt-get install docker.io`
   - **macOS:** 从docker.com安装Docker Desktop
   - **Windows:** 从docker.com安装Docker Desktop

2. **Docker权限**
   ```bash
   # 将您的用户添加到docker组(Linux)
   sudo usermod -aG docker $USER
   # 注销并重新登录以使更改生效
   ```

3. **磁盘空间**
   - Docker镜像至少需要2 GB
   - 执行工作空间需要额外空间

### 配置

在 `config.yaml` 中启用代码执行:

```yaml
code_execution:
  enabled: true                    # 启用该功能

  defaults:
    language: python               # 默认语言
    timeout: 30                    # 默认超时(秒)
    network_access: false          # 默认禁用网络

  security:
    require_approval: true         # 执行前询问
    scan_code: true                # 启用安全扫描

  limits:
    cpu_quota: 50000              # 一个CPU的50%
    memory: "256m"                # 内存限制
    max_execution_time: 300       # 最多5分钟
```

**配置选项:**

| 选项 | 默认值 | 描述 |
|-----|--------|-----|
| `enabled` | `false` | 启用/禁用代码执行 |
| `defaults.language` | `python` | 默认编程语言 |
| `defaults.timeout` | `30` | 默认执行超时(秒) |
| `defaults.network_access` | `false` | 默认网络访问设置 |
| `security.require_approval` | `true` | 执行前需要用户批准 |
| `security.scan_code` | `true` | 启用安全扫描 |
| `limits.cpu_quota` | `50000` | CPU配额(50000 = 1个CPU的50%) |
| `limits.memory` | `"256m"` | 内存限制 |
| `limits.max_execution_time` | `300` | 最大执行时间(秒) |

---

## 基本使用

### 示例1: 简单的基于任务的执行

**您的请求:**
```
计算10的阶乘
```

**Alpha的响应:**
```
我将生成Python代码来计算阶乘。

TOOL: code_execution
PARAMS:
  task: "计算10的阶乘"
  language: "python"

[代码生成中...]
[安全检查: 安全]

生成的代码:
-------------------------------------------------
1 | def factorial(n):
2 |     if n <= 1:
3 |         return 1
4 |     return n * factorial(n - 1)
5 |
6 | result = factorial(10)
7 | print(f"10的阶乘是: {result}")
-------------------------------------------------

安全性: 安全(风险级别: 低)

执行此代码? [y/N]: y

[执行中...]

输出:
10的阶乘是: 3628800

成功!10的阶乘是3,628,800。
```

### 示例2: 数据处理

**您的请求:**
```
解析这个JSON并提取所有电子邮件地址: {"users": [{"name": "Alice", "email": "alice@example.com"}, {"name": "Bob", "email": "bob@example.com"}]}
```

**Alpha的响应:**
```
我将编写JavaScript代码来解析JSON并提取电子邮件。

TOOL: code_execution
PARAMS:
  language: "javascript"
  task: "从提供的JSON数据中提取电子邮件地址"

[显示生成的代码,用户批准]

输出:
找到的电子邮件:
- alice@example.com
- bob@example.com
```

### 示例3: 直接代码执行

**您的请求:**
```
执行这段Python代码: print("Hello, World!")
```

**Alpha的响应:**
```
TOOL: code_execution
PARAMS:
  code: "print('Hello, World!')"
  language: "python"
  validate: true

[安全检查通过]

输出:
Hello, World!
```

---

## 高级使用

### 自定义超时

对于长时间运行的任务,增加超时时间:

```
计算100,000以内的质数,超时时间为2分钟
```

**Alpha使用:**
```yaml
PARAMS:
  task: "计算100,000以内的所有质数"
  language: "python"
  timeout: 120
```

### 网络访问

当您需要发起HTTP请求时:

```
从https://api.example.com/data获取JSON数据并解析
```

**Alpha请求:**
```
⚠️ 此任务需要网络访问。允许此执行的网络访问吗?
[y/N]: y
```

**Alpha使用:**
```yaml
PARAMS:
  task: "从API端点获取并解析JSON"
  language: "python"
  allow_network: true
  timeout: 30
```

### 语言选择

为您的任务指定语言:

```
使用JavaScript对这个数组排序: [3, 1, 4, 1, 5, 9, 2, 6]
```

**Alpha使用:**
```yaml
PARAMS:
  task: "对数组[3, 1, 4, 1, 5, 9, 2, 6]排序"
  language: "javascript"
```

### 跳过批准(高级用户)

如果您信任Alpha并希望更快执行:

```yaml
# config.yaml
code_execution:
  security:
    require_approval: false  # 跳过批准提示
```

**⚠️ 警告:** 只有在您完全信任AI并了解风险时才禁用批准。

---

## 配置选项

### 完整配置参考

```yaml
code_execution:
  # 功能开关
  enabled: true

  # 支持的语言
  languages:
    - python
    - javascript
    - bash

  # 默认设置
  defaults:
    language: python
    timeout: 30
    network_access: false

  # 资源限制
  limits:
    cpu_quota: 50000              # 一个CPU的50%(100000 = 100%)
    memory: "256m"                # 内存限制(256m, 512m, 1g)
    disk: "100m"                  # 磁盘空间限制
    max_execution_time: 300       # 允许的最大超时(秒)

  # 安全设置
  security:
    require_approval: true        # 需要用户批准
    scan_code: true               # 启用安全扫描
    allow_dangerous_operations: false

  # Docker配置
  docker:
    enabled: true
    images:
      python: "python:3.12-slim"
      javascript: "node:20-slim"
      bash: "bash:5.2-alpine"
    network_mode: "none"          # none, bridge, host
    read_only_rootfs: true        # 只读根文件系统

  # 日志记录
  logging:
    log_generated_code: true      # 记录生成的代码
    log_execution_output: true    # 记录执行输出
    log_errors: true              # 记录错误
```

### 调整资源限制

**对于资源密集型任务:**

```yaml
limits:
  cpu_quota: 100000    # 一个CPU的100%
  memory: "512m"       # 512 MB RAM
  max_execution_time: 300  # 5分钟
```

**对于快速、轻量级任务:**

```yaml
limits:
  cpu_quota: 25000     # 一个CPU的25%
  memory: "128m"       # 128 MB RAM
  max_execution_time: 10   # 10秒
```

---

## 故障排查

### 常见问题

#### 1. "Docker不可用或未运行"

**问题:** Docker未安装或未运行。

**解决方案:**
```bash
# 检查Docker状态
sudo systemctl status docker

# 启动Docker(Linux)
sudo systemctl start docker

# 或重启Docker Desktop(macOS/Windows)
```

#### 2. "尝试连接Docker时权限被拒绝"

**问题:** 您的用户没有使用Docker的权限。

**解决方案:**
```bash
# 将用户添加到docker组
sudo usermod -aG docker $USER

# 注销并重新登录,然后验证
docker ps
```

#### 3. "执行超过30秒的超时时间"

**问题:** 代码执行时间过长。

**解决方案:**
- 优化代码以提高性能
- 在请求或配置中增加超时时间
- 将任务分解为更小的子任务

**配置:**
```yaml
defaults:
  timeout: 60  # 增加默认超时时间
```

#### 4. "安全检查检测到风险级别: 高"

**问题:** 代码包含危险操作。

**应该做什么:**
1. 仔细审查安全报告
2. 了解危险操作是什么
3. 决定是否信任该代码
4. 只有在了解风险时才批准

**示例:**
```
发现的危险模式:
  - subprocess.call() - 可以执行系统命令
  - open('/etc/passwd') - 访问敏感文件

建议:
  - 验证正在执行的命令
  - 确保文件访问是必要的
```

#### 5. "Docker镜像拉取失败"

**问题:** 无法下载Docker镜像。

**解决方案:**
- 检查互联网连接
- 验证Docker Hub访问
- 尝试手动拉取镜像:
  ```bash
  docker pull python:3.12-slim
  docker pull node:20-slim
  docker pull bash:5.2-alpine
  ```

#### 6. "语法验证失败"

**问题:** 生成的代码有语法错误。

**Alpha将:**
- 向您显示语法错误
- 自动尝试修复
- 生成更正后的代码
- 再次请求批准

**您可以:**
- 等待自动修复
- 提供更具体的任务描述
- 请求使用不同语言的代码

#### 7. "容器创建失败: 磁盘空间不足"

**问题:** Docker操作的磁盘空间不足。

**解决方案:**
```bash
# 检查磁盘空间
df -h

# 清理Docker资源
docker system prune -a

# 删除未使用的镜像
docker image prune -a
```

---

## 常见问题

### 一般问题

**问: 代码执行安全吗?**

答: 正确使用时是安全的。所有代码都在隔离的Docker容器中运行,具有严格的资源限制、安全扫描和可选的用户批准。但是,您应该始终在批准执行之前审查代码,特别是对于敏感操作。

**问: 我需要了解编程才能使用此功能吗?**

答: 不需要!您用自然语言描述您想要什么,Alpha会生成代码。但是,基本的编程知识有助于您审查和理解生成的代码。

**问: 如果我的代码有无限循环会发生什么?**

答: 超时机制会在指定时间(默认30秒)后自动停止执行。然后容器会被强制终止并清理。

**问: 执行的代码可以访问我的文件吗?**

答: 默认情况下不能。代码在隔离的容器中运行,无法访问您的文件系统。只有特定的代码文件被挂载到容器中。

**问: 为什么我的代码执行很慢?**

答: 首次执行可能由于Docker镜像下载而较慢。后续执行会更快。代码执行速度还取决于:
- 任务复杂度
- 资源限制
- 系统性能

### 功能相关问题

**问: 我可以使用外部Python包吗?**

答: 目前不可以,只有标准库包可用。外部包支持计划在未来版本中提供。

**问: 为什么Alpha拒绝我的任务?**

答: 可能的原因:
- 任务过于模糊或不明确
- 任务需要不支持的功能
- 任务存在安全问题
- Docker不可用

**问: 我可以保存生成的代码以供以后使用吗?**

答: 可以,您可以在成功执行后使用 `file` 工具要求Alpha将生成的代码保存到文件中。

**问: 代码执行和shell工具有什么区别?**

答:
- **Shell工具:** 在您的系统上执行现有命令
- **代码执行:** 在隔离容器中生成并运行自定义程序

对于简单命令使用shell工具,对于复杂逻辑使用代码执行。

**问: 我可以在一个任务中执行多种语言的代码吗?**

答: 目前不可以,每次执行支持一种语言。对于多语言任务,将它们分解为单独的执行。

### 安全问题

**问: 恶意代码可以损害我的系统吗?**

答: 由于Docker隔离,风险很小。但是:
- 批准前始终审查代码
- 谨慎使用网络访问
- 对不受信任的任务保持批准启用
- 定期更新Docker以获得安全补丁

**问: 如果我意外批准了危险代码怎么办?**

答: 代码仍在具有有限资源且无法访问您系统的沙箱容器中运行。最坏的影响是:
- 临时资源使用(CPU、内存)
- 网络流量(如果启用了网络)
- 工作空间磁盘使用(自动清理)

您的主系统保持受保护。

**问: 我应该启用网络访问吗?**

答: 仅在特定任务需要时(API调用、下载)才启用网络访问。默认保持禁用以获得最大安全性。

**问: Alpha可以生成删除我文件的代码吗?**

答: 不可以,执行的代码无法访问您的主机文件系统。它只能访问容器内的临时工作空间。

---

## 最佳实践

### 1. 安全性

✅ **应该:**
- 批准前审查生成的代码
- 保持 `require_approval` 启用
- 谨慎使用网络访问
- 仔细检查安全报告
- 向管理员报告可疑代码

❌ **不应该:**
- 盲目批准代码执行
- 为所有任务启用网络访问
- 禁用安全扫描
- 忽略高风险警告
- 在任务描述中共享敏感数据

### 2. 性能

✅ **应该:**
- 从简单任务开始测试
- 使用适当的超时值
- 为任务选择正确的语言
- 将复杂任务分解为更小的步骤
- 监控资源使用

❌ **不应该:**
- 请求不必要的复杂代码
- 默认使用过长的超时
- 在现有工具可用时生成代码
- 在没有优化的情况下链接太多执行

### 3. 任务描述

✅ **应该:**
- 具体明确
- 明确提供输入数据
- 指定预期的输出格式
- 提及约束或要求
- 在有帮助时提供示例

❌ **不应该:**
- 模糊或含糊
- 假设Alpha知道您的上下文
- 省略重要细节
- 请求不可能的任务
- 混合多个不相关的任务

### 4. 错误处理

✅ **应该:**
- 仔细阅读错误消息
- 允许Alpha重试并修复错误
- 对失败提供反馈
- 检查执行输出
- 报告持续性问题

❌ **不应该:**
- 忽略错误消息
- 立即重试完全相同的请求
- 期望每次都有完美的代码
- 首次失败后就放弃

### 5. 效率

✅ **应该:**
- 尽可能使用现有工具
- 更喜欢简单的解决方案
- 重用成功的代码模式
- 适当时缓存结果
- 及时清理资源

❌ **不应该:**
- 过度使用代码执行
- 生成过于复杂的代码
- 重复相同的执行
- 请求冗余计算

---

## 示例库

### 示例1: 斐波那契数列

**任务:** 计算前20个斐波那契数

**生成的代码(Python):**
```python
def fibonacci(n):
    """生成前n个斐波那契数"""
    fib_sequence = []
    a, b = 0, 1
    for _ in range(n):
        fib_sequence.append(a)
        a, b = b, a + b
    return fib_sequence

# 计算前20个斐波那契数
result = fibonacci(20)
print("前20个斐波那契数:")
print(result)
```

**输出:**
```
前20个斐波那契数:
[0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181]
```

### 示例2: JSON数据处理

**任务:** 解析JSON并计算平均年龄

**输入数据:**
```json
{"employees": [{"name": "Alice", "age": 30}, {"name": "Bob", "age": 25}, {"name": "Charlie", "age": 35}]}
```

**生成的代码(JavaScript):**
```javascript
// 解析JSON数据
const data = {
  "employees": [
    {"name": "Alice", "age": 30},
    {"name": "Bob", "age": 25},
    {"name": "Charlie", "age": 35}
  ]
};

// 计算平均年龄
const totalAge = data.employees.reduce((sum, emp) => sum + emp.age, 0);
const averageAge = totalAge / data.employees.length;

console.log(`员工总数: ${data.employees.length}`);
console.log(`平均年龄: ${averageAge.toFixed(2)}`);
```

**输出:**
```
员工总数: 3
平均年龄: 30.00
```

### 示例3: 文件内容分析

**任务:** 统计文本字符串中的单词

**生成的代码(Python):**
```python
import re

text = """
Alpha是一个具有代码执行能力的AI助手。
它可以安全地生成、验证和执行代码。
系统使用Docker容器进行隔离。
"""

# 删除多余的空格并分割为单词
words = re.findall(r'\w+', text.lower())

# 统计单词
word_count = len(words)
unique_words = len(set(words))

print(f"总单词数: {word_count}")
print(f"唯一单词数: {unique_words}")
print(f"最常见的单词:")

# 统计频率
from collections import Counter
word_freq = Counter(words)
for word, count in word_freq.most_common(5):
    print(f"  {word}: {count}")
```

**输出:**
```
总单词数: 24
唯一单词数: 21
最常见的单词:
  代码: 2
  alpha: 1
  是: 1
  一个: 1
  具有: 1
```

### 示例4: 数学计算

**任务:** 计算100以内的质数

**生成的代码(Python):**
```python
def is_prime(n):
    """检查一个数是否为质数"""
    if n < 2:
        return False
    for i in range(2, int(n ** 0.5) + 1):
        if n % i == 0:
            return False
    return True

# 查找100以内的所有质数
primes = [n for n in range(2, 101) if is_prime(n)]

print(f"100以内的质数:")
print(primes)
print(f"\n质数总数: {len(primes)}")
```

**输出:**
```
100以内的质数:
[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]

质数总数: 25
```

### 示例5: 文本处理(Bash)

**任务:** 处理日志文件并统计错误行

**生成的代码(Bash):**
```bash
#!/bin/bash

# 示例日志数据
cat << 'EOF' > /tmp/app.log
2026-01-30 10:00:00 INFO 应用程序已启动
2026-01-30 10:01:00 ERROR 无法连接到数据库
2026-01-30 10:02:00 INFO 用户已登录
2026-01-30 10:03:00 ERROR 处理请求超时
2026-01-30 10:04:00 INFO 任务成功完成
EOF

# 统计错误
error_count=$(grep -c "ERROR" /tmp/app.log)
total_lines=$(wc -l < /tmp/app.log)

echo "日志分析:"
echo "============="
echo "总行数: $total_lines"
echo "错误行数: $error_count"
echo ""
echo "错误详情:"
grep "ERROR" /tmp/app.log

# 清理
rm /tmp/app.log
```

**输出:**
```
日志分析:
=============
总行数: 5
错误行数: 2

错误详情:
2026-01-30 10:01:00 ERROR 无法连接到数据库
2026-01-30 10:03:00 ERROR 处理请求超时
```

---

## 限制

### 当前限制

1. **没有外部包**
   - 只有标准库可用
   - 无法安装pip/npm包
   - 解决方法: 使用内置模块

2. **没有状态持久化**
   - 每次执行都是全新开始
   - 运行之间没有文件持久化
   - 解决方法: 在外部保存重要数据

3. **有限的I/O**
   - 无法访问主机文件系统
   - 执行期间没有stdin输入
   - 解决方法: 在代码中包含数据

4. **每次执行单一语言**
   - 不能在一次运行中混合语言
   - 解决方法: 运行单独的执行

5. **没有交互式输入**
   - 执行期间无法提示用户
   - 所有输入必须预定义
   - 解决方法: 在代码中包含输入

6. **资源约束**
   - 有限的CPU和内存
   - 最大执行时间
   - 解决方法: 优化代码或增加限制

### 计划增强

未来版本将包括:
- 外部包安装(pip、npm)
- 持久执行环境
- ML任务的GPU支持
- 分布式执行
- 更多编程语言(Go、Rust、Java)
- 交互式调试功能

---

## 获取帮助

### 资源

- **用户指南:** 本文档
- **API参考:** `/docs/internal/code_execution_api.md`
- **架构:** `/docs/internal/code_execution_architecture.md`
- **配置:** `/config.yaml`

### 支持

如果遇到问题:

1. **查看本指南的故障排查部分**
2. **仔细查看错误消息**
3. **检查Docker状态和日志**
4. **验证配置设置**
5. **检查生成的代码是否有问题**

### 反馈

您的反馈有助于改进Alpha:
- 报告错误和问题
- 建议功能增强
- 分享使用案例和示例
- 为文档做出贡献

---

## 版本历史

### 版本0.7.0(当前)
- 代码执行系统的初始版本
- 支持Python、JavaScript和Bash
- 基于Docker的沙箱执行
- 安全扫描和验证
- 用户批准工作流
- 资源限制执行

### 即将推出的功能
- 外部包支持
- 持久环境
- 额外的语言
- 增强的安全功能
- 性能优化

---

**状态:** ✅ 生产就绪
**文档版本:** 1.0
**最后更新:** 2026-01-30
